<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Selection</title>
    <script defer src="script.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&display=swap">    
</head>
<body>
    <div class="top-right-buttons">
        <button id="save">Enregistrer</button>
        <button id="print">Imprimer</button>
    </div>
    <h2>Sélectionnez les QR Codes</h2>
    <div class="qr-container">
        <select id="qr-select" multiple>
            <option value="1">QR Code 1</option>
            <option value="2">QR Code 2</option>
            <option value="3">QR Code 3</option>
        </select>
        <img id="qr-image" src="qr1.png" alt="QR Code Image">
    </div>
    <div class="button-container">
        <button id="add-qr">Ajouter QR Code</button>
        <button id="remove-qr">Supprimer QR Code</button>
        <button id="submit">Envoyer en BDD</button>
    </div>

    <script>
        const qrImages = {
            1: 'qr1.png',
            2: 'qr2.png',
            3: 'qr3.png'
        };

        document.getElementById('qr-select').addEventListener('change', function() {
            const selectedValue = this.value;
            document.getElementById('qr-image').src = qrImages[selectedValue] || 'default.png';
        });

        document.getElementById('add-qr').addEventListener('click', function() {
            const qrSelect = document.getElementById('qr-select');
            const newOption = document.createElement('option');
            const newValue = qrSelect.options.length + 1;
            newOption.value = newValue;
            newOption.text = 'QR Code ' + newValue;
            qrSelect.add(newOption);
            qrImages[newValue] = 'qr' + newValue + '.png'; // Add new image path
        });

        document.getElementById('remove-qr').addEventListener('click', function() {
            const qrSelect = document.getElementById('qr-select');
            if (qrSelect.selectedIndex !== -1) {
                delete qrImages[qrSelect.value]; // Remove image path
                qrSelect.remove(qrSelect.selectedIndex);
                document.getElementById('qr-image').src = 'default.png'; // Reset image
            } else {
                alert('Veuillez sélectionner un QR Code à supprimer.');
            }
        });

        document.getElementById('save').addEventListener('click', function() {
            alert('Enregistrer les QR Codes sélectionnés.');
            // Ajoutez ici la logique pour enregistrer les QR Codes
        });

        document.getElementById('print').addEventListener('click', function() {
            window.print();
        });
    </script>
</body>
</html>